# æ˜¾ç¤ºçš„workflowåç§°
name: GitHub Actions deploy github-pages
on:
  # æ¨é€åˆ°masteråˆ†æ”¯å¼€å§‹æ‰“åŒ…
  push:
    branches:
      - main

jobs:
  # å¼€å§‹æ‰“åŒ…
  Build:
    runs-on: ubuntu-latest
    steps:
      - name: checkout code
        # è¿å‡ºè§¦å‘çš„æµç¨‹çš„ç‰ˆæœ¬ èƒ½è®©ä¸‹é¢çš„å·¥ä½œæµç¨‹è®¿é—®
        uses: actions/checkout@v2
        # setup-node å¯ä»¥æä¾›nodeç¯å¢ƒï¼ŒæŒ‡å®šnodeç‰ˆæœ¬ä»¥åŠ npm /yarnç¼“å­˜
      - name: actions/setup-node@v2
        uses: actions/setup-node@v2
        with:
          node: 16.14
      - name: install pnpm
        run: npm install -g pnpm@8
      - run: pnpm install && pnpm build
      - name: Deploy ğŸš€
        uses: JamesIves/github-pages-deploy-action@v4.3.3
        with:
          branch: gh-pages # The branch the action should deploy to.
          folder: docs # The folder the action should deploy.
          clean: true
